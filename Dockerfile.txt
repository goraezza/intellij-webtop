FROM ghcr.io/linuxserver/webtop:ubuntu-mate

# Variables
ENV TOOLBOX_VERSION=2.3.1.11116

# Instalar dependencias necesarias para ejecutar AppImage
RUN apt-get update && \
    apt-get install -y fuse && \
    apt-get clean

# Crear directorio y descargar JetBrains Toolbox AppImage
RUN mkdir -p /opt/toolbox && \
    wget https://download.jetbrains.com/toolbox/jetbrains-toolbox-${TOOLBOX_VERSION}.tar.gz -O /tmp/toolbox.tar.gz && \
    tar -xzf /tmp/toolbox.tar.gz -C /opt/toolbox --strip-components=1 && \
    chmod +x /opt/toolbox/jetbrains-toolbox && \
    rm /tmp/toolbox.tar.gz

# Crear acceso directo
RUN ln -s /opt/toolbox/jetbrains-toolbox /usr/local/bin/jetbrains-toolbox

# Puedes arrancarlo manualmente luego desde terminal o como comando inicial
